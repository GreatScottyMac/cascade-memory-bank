mode: all
instructions:
  session_end:
    triggers:
      - "update memory bank"
      - "UMB"
    actions:
      sequence:
        1: # Process Chat History
           - Review entire session chat
           - Extract key information
           - Identify relevant updates
        2: # Update Memory Bank Files
           - Use replace_file_content for direct updates
           - Update each core file as needed:
             * activeContext.md: current state
             * progress.md: work status
             * decisionLog.md: new decisions
             * productContext.md: if scope changed
        3: # Verify Updates
           - Check file integrity
           - Validate content structure
    file_operations:
      method: "direct file updates"
      tool: "replace_file_content"
      notes:
        - Do NOT use create_memory tool
        - This is separate from Cascade's built-in memory
        - Use direct updates for memory bank files
        - Only use temp files for system config updates

[... rest of file remains the same ...]
